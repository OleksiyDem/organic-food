let productInfo=[{id:1,category:"Vegetable",imgSrc:"./assets/images/product-photo-1.png",title:"Calabrese Broccoli",price:"$20.00",discountPrice:"$13.00",rating:4.7},{id:2,category:"Fresh",imgSrc:"./assets/images/product-photo-2.png",title:"Fresh Banana Fruits",price:"$20.00",discountPrice:"$14.00",rating:5},{id:3,category:"Millets",imgSrc:"./assets/images/product-photo-3.png",title:"White Nuts",price:"$20.00",discountPrice:"$15.00",rating:4.5},{id:4,category:"Vegetable",imgSrc:"./assets/images/product-photo-4.png",title:"Vegan Red Tomato",price:"$20.00",discountPrice:"$17.00",rating:4},{id:5,category:"Health",imgSrc:"./assets/images/product-photo-5.png",title:"Mung Bean",price:"$20.00",discountPrice:"$11.00",rating:3.3},{id:6,category:"Nuts",imgSrc:"./assets/images/product-photo-6.png",title:"Brown Hazelnut",price:"$20.00",discountPrice:"$12.00",rating:4.6},{id:7,category:"Fresh",imgSrc:"./assets/images/product-photo-7.png",title:"Eggs",price:"$20.00",discountPrice:"$17.00",rating:4.3},{id:8,category:"Fresh",imgSrc:"./assets/images/product-photo-8.png",title:"Zelco Suji Elaichi Rusk",price:"$20.00",discountPrice:"$15.00",rating:4.7},{id:9,category:"Fruit",imgSrc:"./assets/images/product-photo-9.png",title:"Organic Apples",price:"$25.00",discountPrice:"$20.00",rating:4.9},{id:10,category:"Dairy",imgSrc:"./assets/images/product-photo-10.png",title:"Greek Yogurt",price:"$15.00",discountPrice:"$10.00",rating:4.8},{id:11,category:"Vegetable",imgSrc:"./assets/images/product-photo-11.png",title:"Fresh Spinach",price:"$18.00",discountPrice:"$12.00",rating:4.6},{id:12,category:"Grains",imgSrc:"./assets/images/product-photo-12.png",title:"Brown Rice",price:"$22.00",discountPrice:"$16.00",rating:4.4},{id:13,category:"Herbs",imgSrc:"./assets/images/product-photo-13.png",title:"Fresh Basil",price:"$10.00",discountPrice:"$8.00",rating:4.7},{id:14,category:"Snack",imgSrc:"./assets/images/product-photo-14.png",title:"Trail Mix",price:"$18.00",discountPrice:"$14.00",rating:4.5},{id:15,category:"Beverage",imgSrc:"./assets/images/product-photo-15.png",title:"Green Tea",price:"$12.00",discountPrice:"$9.00",rating:4.8},{id:16,category:"Frozen",imgSrc:"./assets/images/product-photo-16.png",title:"Frozen Berries",price:"$15.00",discountPrice:"$11.00",rating:4.6}];document.addEventListener("DOMContentLoaded",function(){function e(r,e,i){e.forEach(e=>{t=100*e.rating/5;var t,e=`
        <div class="sec-${i}-card product-card" data-product-id="${e.id}">
          <p class="badge">${e.category}</p>
          <div class="photo">
            <img src="${e.imgSrc}">
          </div>
          <p class="title">${e.title}</p>
          <div class="info df align-e justify-b">
            <p class="price">
              <span class="full">${e.price}</span>
              <span class="discount">${e.discountPrice}</span>
            </p>
            <div class="rating">
              <span class="default">★★★★★</span>
              <span class="active" style="width: ${t}%">★★★★★</span> 
            </div>
          </div>
          <a href="#" class="buy">Add to cart</a>
        </div>
      `;r.innerHTML+=e})}var t=document.querySelector(".sec-4-cards"),r=document.querySelector(".sec-6-cards"),t=(e(t,productInfo,4),e(r,productInfo.slice(5,9),6),document.querySelector("header button.burger"));let i=document.querySelectorAll("header button.burger img"),c=(t.addEventListener("click",function(){i.forEach(e=>{e.classList.toggle("hidden")}),document.querySelector("header .mobile-menu .nav").classList.toggle("visible")}),document.querySelector("header button.search-btn").addEventListener("click",function(){document.querySelector("header .mobile-menu .features .search").classList.toggle("expanded")}),document.getElementById("load-more-cards")),s=document.querySelectorAll(".sec-4-card"),a=l(),o=a,n=a/2;function l(){return Array.from(s).filter(e=>"none"!==getComputedStyle(e).display).length}window.addEventListener("resize",((e,t)=>{let r;return function(){clearTimeout(r),r=setTimeout(()=>{e.apply(this,arguments)},t)}})(()=>{a=l(),o=a,n=a/2},200)),c.addEventListener("click",function(){if(o<s.length){var e=s.length-o,t=Math.min(n,e);for(let e=o;e<o+t&&e<s.length;e++)s[e].style.display="block";(o+=t)>=s.length&&(c.querySelector("span").textContent="Load Less")}else{o=a;for(let e=s.length-1;e>=a;e--)s[e].style.display="none";c.querySelector("span").textContent="Load More";e=document.querySelector(".sec-4").getBoundingClientRect().top+window.scrollY;window.scrollTo({top:e+60,behavior:"smooth"})}}),new Glide(".sec5-cards",{type:"carousel",startAt:0,perView:1}).mount();let d=document.querySelector(".modals-wrapper");r=document.querySelectorAll(".modal-close-btn"),["sec-8-card-1-btn","sec-8-card-2-btn","cart-modal-btn"].forEach(e=>{e=document.getElementById(e);let t=e.getAttribute("data-modal-id"),r=document.getElementById(t);e.addEventListener("click",function(){d.classList.add("visible"),r.classList.add("visible"),document.querySelector("body").classList.add("overflow"),"cart-modal"===t&&f()})}),r.forEach(e=>{e.addEventListener("click",function(){d.classList.remove("visible"),this.parentElement.classList.remove("visible"),document.querySelector("body").classList.remove("overflow")})}),emailjs.init({publicKey:"Yq2p1dRR7X8PohKkF"}),t=document.getElementById("form-submit");let u=document.getElementById("email-input"),g=new AWN({position:"top-right",maxNotifications:3});t.addEventListener("click",function(e){e.preventDefault();var e=u.value,t=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu.test(e);t?(emailjs.send("service_r3eclmp","template_a70660p",{user_email:e}),alert("Thanks for subscribing!"),u.value=""):g.alert("Please type correct email address!")});let p=JSON.parse(localStorage.getItem("selectedProducts"))||[],m=document.querySelectorAll(".product-card .buy");function h(){let r=JSON.parse(localStorage.getItem("selectedProducts"))||[];document.querySelector("header .features .cart p span").textContent=r.length,m.forEach(e=>{var t=e.parentElement.getAttribute("data-product-id");e.classList.toggle("active",r.includes(t))})}function y(e){e.preventDefault();let t=this.parentElement.getAttribute("data-product-id");this.classList.toggle("active"),this.classList.contains("active")?p.push(t):p=p.filter(e=>e!==t),localStorage.setItem("selectedProducts",JSON.stringify(p)),h()}function f(){let t=document.querySelector("#cart-modal ul");t.innerHTML=p.map(e=>{var t;return`
        <li data-product-id="${t=e}">
          <span>${(e=productInfo.find(e=>e.id==t))?e.title:"Unknown Product"}</span>
          <i class="fa-regular fa-circle-xmark fa-lg" style="color: #274c5b;"></i>
        </li>
      `}).join(""),p.forEach(e=>{t.querySelector(`li[data-product-id="${e}"]`).addEventListener("click",()=>{return t=e,p=p.filter(e=>e!==t),localStorage.setItem("selectedProducts",JSON.stringify(p)),h(),void f();var t})})}h(),m.forEach(e=>{e.addEventListener("click",y)})});